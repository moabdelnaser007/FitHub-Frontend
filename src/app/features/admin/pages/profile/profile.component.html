<div class="profile-page">
    <div class="header-section">
        <h1>Admin Profile</h1>
        <p>Manage your account settings</p>
    </div>

    <div *ngIf="isLoading" class="loading-state">
        <div class="spinner"></div>
        <p>Loading profile...</p>
    </div>

    <div *ngIf="error" class="error-state">
        <span class="material-symbols-outlined">error</span>
        <p>{{ error }}</p>
    </div>

    <div *ngIf="!isLoading && !error && user" class="profile-card">
        <div class="profile-header">
            <div class="avatar-circle">
                <span class="material-symbols-outlined">admin_panel_settings</span>
            </div>
            <div class="user-identity">
                <h2>{{ user.fullName }}</h2>
                <span class="role-badge">{{ user.status }}</span>
            </div>
            <button class="btn-edit-profile" (click)="enableEditMode()">
                <span class="material-symbols-outlined">edit</span>
                Edit Profile
            </button>
        </div>

        <div class="profile-details">
            <div class="detail-item">
                <span class="label">Email</span>
                <span class="value">{{ user.email }}</span>
            </div>

            <div class="detail-item">
                <span class="label">Phone</span>
                <span class="value">{{ user.phone }}</span>
            </div>

            <div class="detail-item">
                <span class="label">City</span>
                <span class="value">{{ user.city }}</span>
            </div>

            <div class="detail-item">
                <span class="label">User ID</span>
                <span class="value">#{{ user.id }}</span>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div class="modal-overlay" *ngIf="isEditing" (click)="cancelEdit()">
        <div class="modal-content" (click)="$event.stopPropagation()">
            <div class="modal-header">
                <h2>Edit Profile</h2>
            </div>

            <div class="modal-body">
                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" [(ngModel)]="editForm.fullName" class="form-control" />
                </div>

                <div class="form-group">
                    <label>Email</label>
                    <input type="email" [(ngModel)]="editForm.email" class="form-control" />
                </div>

                <div class="form-group">
                    <label>Phone</label>
                    <input type="text" [(ngModel)]="editForm.phone" class="form-control" />
                </div>

                <div class="form-group">
                    <label>City</label>
                    <input type="text" [(ngModel)]="editForm.city" class="form-control" />
                </div>

                <p *ngIf="updateError" class="error-msg">{{ updateError }}</p>
            </div>

            <div class="modal-footer">
                <button class="btn-cancel-modal" (click)="cancelEdit()" [disabled]="isUpdating">Cancel</button>
                <button class="btn-confirm-modal" (click)="saveProfile()" [disabled]="isUpdating">
                    <span *ngIf="!isUpdating">Save Changes</span>
                    <span *ngIf="isUpdating">Saving...</span>
                </button>
            </div>
        </div>
    </div>
</div>