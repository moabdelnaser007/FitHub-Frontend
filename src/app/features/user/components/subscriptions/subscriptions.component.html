<div class="dashboard-container">
  <!-- Top Navigation Bar -->
  <app-header></app-header>

  <div class="dashboard-wrapper">
    <!-- Left Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-content">
        <!-- User Profile Section -->
        <div class="user-profile">
          <div class="user-avatar"></div>
          <div class="user-info">
            <div class="user-name">Jane Doe</div>
            <div class="user-email">jane.doe@email.com</div>
          </div>
        </div>

        <!-- Sidebar Menu -->
        <nav class="sidebar-menu">
          <a
            routerLink="/profile"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            class="menu-item"
          >
            <span class="menu-icon">ğŸ‘¤</span>
            <span>Profile</span>
          </a>
          <a
            routerLink="/billing"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            class="menu-item"
          >
            <span class="menu-icon">ğŸ’³</span>
            <span>Billing</span>
          </a>
          <a
            routerLink="/subscriptions"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            class="menu-item"
          >
            <span class="menu-icon">ğŸ“‹</span>
            <span>Subscriptions</span>
          </a>
          <a href="#" class="menu-item">
            <span class="menu-icon">âš™ï¸</span>
            <span>Settings</span>
          </a>
        </nav>

        <!-- Logout -->
        <div class="sidebar-footer">
          <a (click)="onLogout()" class="menu-item logout">
            <span class="menu-icon">ğŸšª</span>
            <span>Logout</span>
          </a>
        </div>
      </div>
    </aside>

    <!-- Main Content Area -->
    <main class="main-content">
      <div class="content-header">
        <h1 class="page-title">My Subscriptions</h1>
        <p class="page-subtitle">View your active gym subscriptions and track your visits.</p>
      </div>

      <!-- Subscriptions Grid -->
      <div class="subscriptions-grid">
        <article class="subscription-card" *ngFor="let sub of subscriptions">
          <div class="card-top">
            <div class="card-info">
              <h2 class="gym-name">{{ sub.gymName }}</h2>
              <p class="plan-name">{{ sub.planName }}</p>
            </div>
            <span
              class="status-badge"
              [ngClass]="{
                'status-active': sub.status === 'Active',
                'status-paused': sub.status === 'Paused',
                'status-expired': sub.status === 'Expired'
              }"
            >
              {{ sub.status }}
            </span>
          </div>

          <div class="card-body">
            <div class="visits-section">
              <label class="section-label">Visits remaining</label>
              <div class="progress-bar">
                <div class="progress-fill" [style.width.%]="getProgressPercentage(sub)"></div>
              </div>
              <p class="visits-text">
                {{ getRemainingVisits(sub) }} of {{ sub.totalVisits }} visits remaining
              </p>
            </div>

            <div class="renewal-section">
              <p class="renewal-text">
                <span *ngIf="!sub.isExpired">Renews on: {{ sub.renewalDate }}</span>
                <span *ngIf="sub.isExpired">Expired on: {{ sub.renewalDate }}</span>
              </p>
            </div>
          </div>

          <div class="card-footer">
            <button class="btn-manage" *ngIf="!sub.isExpired" (click)="manageSubscription(sub)">
              Manage Subscription
            </button>
            <button class="btn-renew" *ngIf="sub.isExpired" (click)="renewSubscription(sub)">
              Renew
            </button>
          </div>
        </article>
      </div>
    </main>
  </div>
</div>
