<div class="gym-detail-page">
  <!-- Header -->
  <header class="page-header">
    <div class="header-left">
      <a class="header-brand" routerLink="/"> <strong>FitHub</strong> </a>
    </div>

    <nav class="header-nav">
      <a routerLink="/find-gym" class="nav-link active">Find a Gym</a>
    </nav>

    <div class="header-actions">
      <button class="icon-btn notification-btn" aria-label="Notifications">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path
            d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"
          />
        </svg>
      </button>
      <button
        class="icon-btn profile-btn"
        (click)="navigateToProfile()"
        aria-label="User Profile"
        title="Go to Profile"
      >
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"
            fill="currentColor"
          />
        </svg>
      </button>
    </div>
  </header>

  <main class="page-main">
    <!-- Breadcrumb -->
    <nav class="breadcrumb">
      <a routerLink="/">Home</a>
      <span>/</span>
      <a routerLink="/find-gym">Search</a>
      <span>/</span>
      <span>{{ gymName }}</span>
    </nav>

    <!-- Gym Header -->
    <div class="gym-header">
      <h1>{{ gymName }}</h1>
      <div class="gym-meta">
        <span class="rating">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path
              d="M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"
            />
          </svg>
          {{ rating }} stars
        </span>
        <span class="reviews">({{ reviewCount }} reviews)</span>
        <span class="location">{{ location }}</span>
      </div>
    </div>

    <!-- Image Gallery -->
    <div class="image-gallery">
      <div class="main-image">
        <img [src]="images[0]" [alt]="gymName" />
      </div>
      <div class="thumbnail-grid">
        <div class="thumbnail" *ngFor="let img of images.slice(1, 5)">
          <img [src]="img" [alt]="gymName" />
        </div>
        <button class="view-all-btn">View all photos</button>
      </div>
    </div>
    <div class="content-layout">
      <!-- Main Content -->
      <div class="main-content">
        <!-- Tabs -->
        <div class="tabs">
          <button
            class="tab-btn"
            [class.active]="activeTab === 'about'"
            (click)="setActiveTab('about')"
          >
            About
          </button>
          <button
            class="tab-btn"
            [class.active]="activeTab === 'facilities'"
            (click)="setActiveTab('facilities')"
          >
            Facilities
          </button>
          <button
            class="tab-btn"
            [class.active]="activeTab === 'schedule'"
            (click)="setActiveTab('schedule')"
          >
            Schedule
          </button>
          <button
            class="tab-btn"
            [class.active]="activeTab === 'plans'"
            (click)="setActiveTab('plans')"
          >
            Plans
          </button>
        </div>

        <!-- Tab Content -->
        <div class="tab-content">
          <!-- About Tab -->
          <div *ngIf="activeTab === 'about'" class="tab-panel">
            <h2>About the Gym</h2>
            <p class="about-text">{{ aboutText }}</p>
          </div>

          <!-- Facilities Tab -->
          <div *ngIf="activeTab === 'facilities'" class="tab-panel">
            <h2>Amenities</h2>
            <div class="amenities-grid">
              <div class="amenity-item" *ngFor="let amenity of amenities">
                <span class="material-icons">{{ amenity.icon }}</span>
                <span>{{ amenity.label }}</span>
              </div>
            </div>
          </div>

          <!-- Schedule Tab -->
          <div *ngIf="activeTab === 'schedule'" class="tab-panel">
            <h2>Opening Hours</h2>
            <table class="schedule-table">
              <thead>
                <tr>
                  <th>Day</th>
                  <th>Opening Time</th>
                  <th>Closing Time</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let schedule of schedules">
                  <td>{{ schedule.day }}</td>
                  <td>{{ schedule.openingTime }}</td>
                  <td>{{ schedule.closingTime }}</td>
                  <td>
                    <span class="status-badge" [class.closed]="schedule.status.includes('Closed')">
                      {{ schedule.status }}
                    </span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Plans Tab -->
          <div *ngIf="activeTab === 'plans'" class="tab-panel">
            <div class="plans-grid">
              <div
                class="plan-card"
                *ngFor="let plan of plans"
                [class.selected]="selectedPlan === plan"
                [class.recommended]="plan.recommended"
              >
                <span *ngIf="plan.recommended" class="recommended-badge">MOST POPULAR</span>
                <h3>{{ plan.name }}</h3>
                <p class="plan-description">Gives you {{ plan.visits }} visits</p>
                <div class="plan-price">
                  <span class="credits">{{ plan.credits }} Credits</span>
                </div>
                <button class="select-plan-btn" (click)="selectPlan(plan)">Select Plan</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Sidebar -->
      <aside class="sidebar">
        <!-- Book a Visit Card (for Schedule tab) -->
        <div *ngIf="activeTab === 'schedule'" class="booking-card">
          <h3>Book a Visit</h3>

          <div class="form-group">
            <label>Select a Date</label>
            <input type="date" [(ngModel)]="selectedDate" placeholder="mm/dd/yyyy" />
          </div>

          <div class="form-group">
            <label>Select a Time</label>
            <div class="time-grid">
              <button
                *ngFor="let slot of timeSlots"
                class="time-slot"
                [class.selected]="selectedTime === slot.time"
                (click)="selectTime(slot.time)"
              >
                {{ slot.label }}
              </button>
            </div>
          </div>

          <button class="primary-btn" (click)="reserveSpot()">Reserve Your Spot</button>
        </div>

        <!-- Order Summary Card (for Plans tab) -->
        <div *ngIf="activeTab === 'plans'" class="order-card">
          <h3>Order Summary</h3>

          <div class="order-details">
            <div class="order-row">
              <span>{{ selectedPlan?.name || 'No plan selected' }}</span>
              <span>{{ selectedPlan?.credits || 0 }} Credits</span>
            </div>
            <div class="order-row total">
              <span>Total</span>
              <span>{{ selectedPlan?.credits || 0 }} Credits</span>
            </div>
          </div>

          <p class="terms-text">
            By proceeding, you agree to our
            <a href="#">Terms of Service</a> and <a href="#">Cancellation Policy</a>. Your
            membership will auto-renew monthly.
          </p>

          <button class="primary-btn" (click)="proceedToPayment()">Proceed to Payment</button>

          <p class="balance-text">Your current balance: {{ totalCredits }} Credits</p>
        </div>
      </aside>
    </div>
  </main>
</div>
