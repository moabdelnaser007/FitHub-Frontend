<div class="auth-wrapper">
  <div class="card">
    <div class="brand">
      <div class="brand-icon">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path
            d="M5.21 8.39 4.1 7.28 2.69 8.69l1.11 1.11 5 5L7.1 16.5l1.41 1.41 1.7-1.7 2.54 2.54 1.41-1.41-2.54-2.54 1.7-1.7-1.41-1.41-1.7 1.7-3.67-3.67 1.7-1.7-1.41-1.41-1.7 1.7Z"
          />
        </svg>
      </div>
      <span class="brand-name">FitHub</span>
    </div>

    <div class="heading">
      <h1>Forgot Your Password?</h1>
      <p class="muted">
        Enter your email address and we’ll send you an OTP to reset your password.
      </p>
    </div>

    <form class="form" (ngSubmit)="submit()">
      <label class="field">
        <span>Email Address</span>
        <input
          type="email"
          name="email"
          [(ngModel)]="email"
          placeholder="Enter your email"
          required
        />
      </label>

      <p class="error" *ngIf="submitted && (!email || !email.includes('@'))">
        Please enter a valid email address.
      </p>

      <!-- Error/Success Message Alert -->
      <div
        *ngIf="statusMessage && !loading"
        [class]="
          statusMessage.toLowerCase().includes('success') ||
          statusMessage.toLowerCase().includes('sent')
            ? 'success-alert'
            : 'error-alert'
        "
      >
        <svg
          *ngIf="
            statusMessage.toLowerCase().includes('success') ||
            statusMessage.toLowerCase().includes('sent')
          "
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="16 12 12 8 8 12"></polyline>
          <line x1="12" y1="16" x2="12" y2="8"></line>
        </svg>
        <svg
          *ngIf="
            !(
              statusMessage.toLowerCase().includes('success') ||
              statusMessage.toLowerCase().includes('sent')
            )
          "
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <circle cx="12" cy="12" r="10"></circle>
          <line x1="12" y1="8" x2="12" y2="12"></line>
          <line x1="12" y1="16" x2="12.01" y2="16"></line>
        </svg>
        <span>{{ statusMessage }}</span>
      </div>

      <div class="info" *ngIf="loading">Sending OTP…</div>

      <button type="submit" class="primary" [disabled]="loading">Send OTP</button>
    </form>

    <p class="meta">Remembered your password? <a class="link" routerLink="/login">Log In</a></p>
  </div>
</div>
