<div class="auth-wrapper">
  <div class="card">
    <div class="brand">
      <div class="brand-icon">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path
            d="M5.21 8.39 4.1 7.28 2.69 8.69l1.11 1.11 5 5L7.1 16.5l1.41 1.41 1.7-1.7 2.54 2.54 1.41-1.41-2.54-2.54 1.7-1.7-1.41-1.41-1.7 1.7-3.67-3.67 1.7-1.7-1.41-1.41-1.7 1.7Z"
          />
        </svg>
      </div>
      <span class="brand-name">FitHub</span>
    </div>

    <div class="heading">
      <h1>Set New Password</h1>
      <p class="muted">Enter and confirm your new password below.</p>
      <p class="muted" *ngIf="email">Resetting password for <strong>{{ email }}</strong></p>
    </div>

    <form class="form" (ngSubmit)="submit()">
      <label class="field">
        <span>New Password</span>
        <div class="input-with-icon">
          <input
            [type]="showPassword ? 'text' : 'password'"
            name="password"
            [(ngModel)]="password"
            placeholder="Enter new password"
            minlength="8"
            required
          />
          <button
            type="button"
            class="icon-button"
            (click)="togglePassword()"
            aria-label="Toggle password visibility"
          >
            <svg *ngIf="!showPassword" viewBox="0 0 24 24" aria-hidden="true">
              <path
                d="M12 5c-5 0-9.27 3.11-11 7 1.73 3.89 6 7 11 7s9.27-3.11 11-7c-1.73-3.89-6-7-11-7Zm0 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10Zm0-3a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"
              />
            </svg>
            <svg *ngIf="showPassword" viewBox="0 0 24 24" aria-hidden="true">
              <path
                d="M2.81 2.81 1.39 4.22 4.7 7.53A12.1 12.1 0 0 0 1 12c1.73 3.89 6 7 11 7 2.12 0 4.11-.5 5.86-1.38l1.92 1.92 1.41-1.41-18.38-18.4Zm8.95 8.95 2.48 2.48a2.99 2.99 0 0 1-2.48-2.48Zm-2.54-2.54 6.61 6.61A5 5 0 0 1 8.22 9.22Zm3.78-3.68c-1.05 0-2.05.17-2.98.47l1.62 1.62a3 3 0 0 1 3.69 3.69l2.11 2.11A10.3 10.3 0 0 0 21.01 12 10.3 10.3 0 0 0 12 5.54Z"
              />
            </svg>
          </button>
        </div>
        <span class="note">Must be at least 8 characters long.</span>
      </label>

      <label class="field">
        <span>Confirm New Password</span>
        <div class="input-with-icon">
          <input
            [type]="showConfirm ? 'text' : 'password'"
            name="confirmPassword"
            [(ngModel)]="confirmPassword"
            placeholder="Confirm new password"
            minlength="8"
            required
          />
          <button
            type="button"
            class="icon-button"
            (click)="toggleConfirm()"
            aria-label="Toggle confirm password visibility"
          >
            <svg *ngIf="!showConfirm" viewBox="0 0 24 24" aria-hidden="true">
              <path
                d="M12 5c-5 0-9.27 3.11-11 7 1.73 3.89 6 7 11 7s9.27-3.11 11-7c-1.73-3.89-6-7-11-7Zm0 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10Zm0-3a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"
              />
            </svg>
            <svg *ngIf="showConfirm" viewBox="0 0 24 24" aria-hidden="true">
              <path
                d="M2.81 2.81 1.39 4.22 4.7 7.53A12.1 12.1 0 0 0 1 12c1.73 3.89 6 7 11 7 2.12 0 4.11-.5 5.86-1.38l1.92 1.92 1.41-1.41-18.38-18.4Zm8.95 8.95 2.48 2.48a2.99 2.99 0 0 1-2.48-2.48Zm-2.54-2.54 6.61 6.61A5 5 0 0 1 8.22 9.22Zm3.78-3.68c-1.05 0-2.05.17-2.98.47l1.62 1.62a3 3 0 0 1 3.69 3.69l2.11 2.11A10.3 10.3 0 0 0 21.01 12 10.3 10.3 0 0 0 12 5.54Z"
              />
            </svg>
          </button>
        </div>
      </label>

      <p class="error" *ngIf="submitted && errorMessage">{{ errorMessage }}</p>
      <p class="info" *ngIf="statusMessage">{{ statusMessage }}</p>

      <button type="submit" class="primary">Reset Password</button>
    </form>

    <p class="meta"><a class="link" routerLink="/login">Back to Login</a></p>
  </div>
</div>
