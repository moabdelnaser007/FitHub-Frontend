<div class="create-plan-container">
  <!-- Page Header -->
  <div class="page-header">
    <h1>Create New Subscription Plan</h1>
  </div>

  <!-- Form Card -->
  <div class="form-card">
    <form [formGroup]="planForm" (ngSubmit)="onSubmit()" class="plan-form">
      
      <!-- Plan Name -->
      <label class="form-group">
        <p class="form-label">Plan Name</p>
        <input 
          type="text"
          formControlName="name"
          class="form-input"
          placeholder="e.g., Gold Tier Monthly"
        />
        <span class="error-message" *ngIf="planForm.get('name')?.invalid && planForm.get('name')?.touched">
          Plan name is required
        </span>
      </label>

      <!-- Plan Description -->
      <label class="form-group">
        <p class="form-label">Plan Description</p>
        <textarea 
          formControlName="description"
          class="form-textarea"
          placeholder="Briefly describe what this plan offers users."
        ></textarea>
      </label>

      <!-- Credits and Price Grid -->
      <div class="grid-two-cols">
        
        <!-- Credits per Cycle -->
        <label class="form-group">
          <div class="label-with-tooltip">
            <p class="form-label">Credits per Cycle</p>
            <div class="tooltip-wrapper">
              <span class="material-symbols-outlined help-icon">help</span>
              <div class="tooltip">
                Credits are used for booking classes or open gym access.
                <div class="tooltip-arrow"></div>
              </div>
            </div>
          </div>
          <input 
            type="number"
            formControlName="credits"
            class="form-input"
            placeholder="e.g., 10"
          />
          <span class="error-message" *ngIf="planForm.get('credits')?.invalid && planForm.get('credits')?.touched">
            Credits must be a positive number
          </span>
        </label>

        <!-- Price -->
        <label class="form-group">
          <p class="form-label">Price</p>
          <input 
            type="text"
            formControlName="price"
            class="form-input"
            placeholder="e.g., $49.99"
          />
          <span class="error-message" *ngIf="planForm.get('price')?.invalid && planForm.get('price')?.touched">
            Price is required
          </span>
        </label>
      </div>

      <!-- Plan Duration -->
      <label class="form-group">
        <p class="form-label">Plan Duration</p>
        <select formControlName="duration" class="form-select">
          <option value="30">30 Days (Monthly)</option>
          <option value="90">90 Days (Quarterly)</option>
          <option value="365">365 Days (Yearly)</option>
          <option value="custom">Custom</option>
        </select>
      </label>

      <!-- Active Toggle -->
      <div class="toggle-group">
        <div class="label-with-tooltip">
          <p class="form-label">Set as Active</p>
          <div class="tooltip-wrapper">
            <span class="material-symbols-outlined help-icon">help</span>
            <div class="tooltip">
              Active plans are visible to customers. Inactive plans are saved as drafts.
              <div class="tooltip-arrow"></div>
            </div>
          </div>
        </div>
        <label class="toggle-switch">
          <input 
            type="checkbox"
            formControlName="isActive"
            class="toggle-input"
          />
          <div class="toggle-slider"></div>
        </label>
      </div>

      <!-- Form Actions -->
      <div class="form-actions">
        <button 
          type="button" 
          class="btn-secondary"
          (click)="onCancel()"
        >
          Cancel
        </button>
        <button 
          type="submit" 
          class="btn-primary"
          [disabled]="planForm.invalid"
        >
          Create Plan
        </button>
      </div>

    </form>
  </div>
</div>